# Домашнее задание к занятию «Резервное копирование баз данных» - RomanG


### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

####Ответ

```
Полное.
Инкрементное, с оговоркой что помимо инкрементной делается либо дифференциальное, либо полное в конце раб.дня, либо инкрементное на другой носитель.
Дифференциальное.
Холодное.
Горячее.
```

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

####Ответ
```
Инкрементное. Горячее. Дифференциальное.
```

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

####Ответ

```
Да, если есть репликация мастер-мастер или мастер-слейв. Или CA-кластер.
```

---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

####Ответ

```
$ pg_dump mydb > db.sql – создание рк.

$ dropdb mydb – сброс ДБ
$ pg_restore -C -d postgres db.dump – пересоздание из рк.
```

---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

####Ответ

```
$> mysqldump --all-databases --master-data --single-transaction > backup_sunday_1_PM.sql – создание полной рк.

mysql < backup_sunday_1_PM.sql – восстановление из полной рк.
```
